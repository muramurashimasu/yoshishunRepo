<!DOCTYPE html>
<meta charset="UTF-8">
<html><body>
    <style>
        button
        {
            width: 50px;
            height: 50px;
        }
    </style>
    <div>Hello WebCalc!</div>
    <input style="font-size: 28px; text-align: right;" /><br />

    <script>
        // input tag を更新する関数
        function update(_v) {
            document.querySelector('input').value = _v
        }

        // 数字ボタンが押されたので数字を後ろに追加する
        function append(_v) {
            document.querySelector('input').value += _v
        }

        // 計算
        function calc() {
            const v = document.querySelector('input').value
            const f = new Function('return ' + v)
            // document.write(f)
            update(f().toString())
        }
    </script>

    
    <button onclick="append('1')">1</button>
    <button onclick="append('2')">2</button>
    <button onclick="append('3')">3</button>
    <button onclick="append( '4' )" >4</button>
    <button onclick="append( '5' )" >5</button><br />
    <button onclick="append( '6' )" >6</button>
    <button onclick="append( '7' )" >7</button>
    <button onclick="append( '8' )" >8</button>
    <button onclick="append( '9' )" >9</button>
    <button onclick="append( '0' )" >0</button><br />
    <button onclick="append( '.' )" >.</button>
    <button onclick="append('+')">+</button>
    <button onclick="append('-')">-</button>
    <button onclick="append( '*' )" >*</button>
    <button onclick="append( '/' )" >/</button><br />
    <button onclick="append( '**' )" >^</button>
    <button onclick="append( '**0.5' )" >√</button>

    <button onclick="calc()" style="width:105px;">=</button>

    <button onclick="update('')">clear</button>
    
    <a href="./index.html">戻る</a>
</body></html>
